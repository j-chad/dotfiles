# ---- Oh My Zsh ----
export ZSH="$HOME/.oh-my-zsh"
ZSH_THEME="robbyrussell"
zstyle ':omz:update' mode reminder
plugins=(git)

# ---- Completion setup (run once) ----
# Add any completion dirs before compinit (local file may add more to fpath)
# (Leave fpath modifications to ~/.zshrc.local where needed)
autoload -Uz compinit

# ---- Load local machine config (installers, PATH tweaks, agent sockets, etc.) ----
[[ -f "$HOME/.zshrc.local" ]] && source "$HOME/.zshrc.local"

# Now initialize completions once, after fpath is finalized
compinit

# ---- Load Oh My Zsh ----
source "$ZSH/oh-my-zsh.sh"